<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/dotnet/blog/rss.xml" title="Playwright Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/dotnet/blog/atom.xml" title="Playwright Blog Atom Feed">
<script src="/dotnet/js/redirection.js"></script><title data-react-helmet="true">Element selectors | Playwright</title><meta data-react-helmet="true" property="og:url" content="https://playwright.dev/dotnet/docs/next/selectors"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Element selectors | Playwright"><meta data-react-helmet="true" name="description" content="Selectors are strings that point to the elements in the page. They are used to perform actions on those elements by means of methods such as Page.ClickAsync(selector, options), Page.FillAsync(selector, value, options) and alike. All those methods accept selector as their first argument."><meta data-react-helmet="true" property="og:description" content="Selectors are strings that point to the elements in the page. They are used to perform actions on those elements by means of methods such as Page.ClickAsync(selector, options), Page.FillAsync(selector, value, options) and alike. All those methods accept selector as their first argument."><link data-react-helmet="true" rel="shortcut icon" href="/dotnet/img/playwright-logo.svg"><link data-react-helmet="true" rel="canonical" href="https://playwright.dev/dotnet/docs/next/selectors"><link data-react-helmet="true" rel="alternate" href="https://playwright.dev/dotnet/docs/next/selectors" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://playwright.dev/dotnet/docs/next/selectors" hreflang="x-default"><link rel="stylesheet" href="/dotnet/assets/css/styles.601c26e0.css">
<link rel="preload" href="/dotnet/assets/js/runtime~main.55c20805.js" as="script">
<link rel="preload" href="/dotnet/assets/js/main.8277eee5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/dotnet/"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Playwright for .NET</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/dotnet/docs/next/intro">Docs</a><a class="navbar__item navbar__link" href="/dotnet/docs/next/api/class-playwright">API</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/dotnet/docs/next/why-playwright">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/dotnet/docs/next/selectors">Next</a></li><li><a class="dropdown__link" href="/dotnet/docs/selectors">1.12.0</a></li><li><a class="dropdown__link" href="/dotnet/versions">All versions</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">.NET</a><ul class="dropdown__menu"><li><a href="/dotnet/docs/next/selectors" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">.NET</a></li><li><a href="/docs/next/selectors" target="_self" rel="noopener noreferrer" class="dropdown__link">Node.js</a></li><li><a href="/python/docs/next/selectors" target="_self" rel="noopener noreferrer" class="dropdown__link">Python</a></li><li><a href="/java/docs/next/selectors" target="_self" rel="noopener noreferrer" class="dropdown__link">Java</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_2P1H"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_3atr searchBarLoadingRing_1FtX"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/dotnet/"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/dotnet/img/playwright-logo.svg" alt="Playwright logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Playwright for .NET</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/dotnet/docs/next/intro">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/dotnet/docs/next/api/class-playwright">API</a></li><li class="menu__list-item"><a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer" class="menu__link header-github-link" aria-label="GitHub repository"></a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/dotnet/docs/next/selectors">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/dotnet/docs/selectors">1.12.0</a></li><li class="menu__list-item"><a class="menu__link" href="/dotnet/versions">All versions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">.NET</a><ul class="menu__list"><li class="menu__list-item"><a href="/dotnet/docs/next/selectors" target="_self" rel="noopener noreferrer" class="menu__link menu__link--active">.NET</a></li><li class="menu__list-item"><a href="/docs/next/selectors" target="_self" rel="noopener noreferrer" class="menu__link">Node.js</a></li><li class="menu__list-item"><a href="/python/docs/next/selectors" target="_self" rel="noopener noreferrer" class="menu__link">Python</a></li><li class="menu__list-item"><a href="/java/docs/next/selectors" target="_self" rel="noopener noreferrer" class="menu__link">Java</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/why-playwright">Why Playwright?</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/intro">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/core-concepts">Core concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/cli">Command Line Interface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/debug">Debugging tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/languages">Supported languages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/release-notes">Release notes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/test-runners">Test Runners</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/actionability">Auto-waiting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/assertions">Assertions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/auth">Authentication</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/browsers">Browsers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/dialogs">Dialogs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/downloads">Downloads</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/dotnet/docs/next/selectors">Element selectors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/emulation">Emulation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/events">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/extensibility">Extensibility</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/handles">Handles</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/input">Input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/inspector">Inspector</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/multi-pages">Multi-page scenarios</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/navigations">Navigations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/network">Network</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/pom">Page Object Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/screenshots">Screenshots</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/trace-viewer">Trace Viewer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/verification">Verification</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/videos">Videos</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/docker">Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/dotnet/docs/next/ci">Continuous Integration</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Playwright <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/dotnet/docs/selectors">latest version</a></strong> (1.12.0).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_3a4h">Element selectors</h1></header><div class="markdown"><p>Selectors are strings that point to the elements in the page. They are used to perform actions on those elements by means of methods such as <a href="/dotnet/docs/next/api/class-page#page-click">Page.ClickAsync(selector, options)</a>, <a href="/dotnet/docs/next/api/class-page#page-fill">Page.FillAsync(selector, value, options)</a> and alike. All those methods accept <code>selector</code> as their first argument.</p><ul><li><a href="#quick-guide">Quick guide</a></li><li><a href="#text-selector">Text selector</a></li><li><a href="#css-selector">CSS selector</a></li><li><a href="#selecting-visible-elements">Selecting visible elements</a></li><li><a href="#selecting-elements-that-contain-other-elements">Selecting elements that contain other elements</a></li><li><a href="#selecting-elements-matching-one-of-the-conditions">Selecting elements matching one of the conditions</a></li><li><a href="#selecting-elements-in-shadow-dom">Selecting elements in Shadow DOM</a></li><li><a href="#selecting-elements-based-on-layout">Selecting elements based on layout</a></li><li><a href="#xpath-selectors">XPath selectors</a></li><li><a href="#id-data-testid-data-test-id-data-test-selectors">id, data-testid, data-test-id, data-test selectors</a></li><li><a href="#pick-n-th-match-from-the-query-result">Pick n-th match from the query result</a></li><li><a href="#chaining-selectors">Chaining selectors</a></li><li><a href="#best-practices">Best practices</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="quick-guide"></a>Quick guide<a class="hash-link" href="#quick-guide" title="Direct link to heading">#</a></h2><ul><li><p>Text selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=Log in&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>CSS selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;button&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;#nav-bar .contact-us-item&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Select by attribute, with css selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;[data-test=login-button]&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;[aria-label=&#x27;Sign in&#x27;]&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Combine css and text selectors</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;article:has-text(\&quot;Playwright\&quot;)&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;#nav-bar :text(\&quot;Contact us\&quot;)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Element that contains another, with css selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;.item-description:has(.item-promo-banner)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Selecting based on layout, with css selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;input:right-of(:text(\&quot;Username\&quot;))&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Only visible elements, with css selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;.login-button:visible&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>Pick n-th match</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;:nth-match(:text(&#x27;Buy&#x27;), 3)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>XPath selector</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;xpath=//button&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="text-selector"></a>Text selector<a class="hash-link" href="#text-selector" title="Direct link to heading">#</a></h2><p>Text selector locates elements that contain passed text.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=Log in&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Text selector has a few variations:</p><ul><li><p><code>text=Log in</code> - default matching is case-insensitive and searches for a substring. For example, <code>text=Log</code> matches <code>&lt;button&gt;Log in&lt;/button&gt;</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=Log in&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>text=&quot;Log in&quot;</code> - text body can be escaped with single or double quotes to search for a text node with exact content. For example, <code>text=&quot;Log&quot;</code> does not match <code>&lt;button&gt;Log in&lt;/button&gt;</code> because <code>&lt;button&gt;</code> contains a single text node <code>&quot;Log in&quot;</code> that is not equal to <code>&quot;Log&quot;</code>. However, <code>text=&quot;Log&quot;</code> matches <code>&lt;button&gt;Log&lt;span&gt;in&lt;/span&gt;&lt;/button&gt;</code>, because <code>&lt;button&gt;</code> contains a text node <code>&quot;Log&quot;</code>.</p><p>Quoted body follows the usual escaping rules, e.g. use <code>\&quot;</code> to escape double quote in a double-quoted string: <code>text=&quot;foo\&quot;bar&quot;</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=&#x27;Log in&#x27;&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>&quot;Log in&quot;</code> - selector starting and ending with a quote (either <code>&quot;</code> or <code>&#x27;</code>) is assumed to be a text selector. For example, <code>&quot;Log in&quot;</code> is converted to <code>text=&quot;Log in&quot;</code> internally.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;&#x27;Log in&#x27;&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>/Log\s*in/i</code> - body can be a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp" target="_blank" rel="noopener noreferrer">JavaScript-like regex</a> wrapped in <code>/</code> symbols. For example, <code>text=/Log\s*in/i</code> matches <code>&lt;button&gt;Login&lt;/button&gt;</code> and <code>&lt;button&gt;log IN&lt;/button&gt;</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=/Log\\s*in/i&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>article:has-text(&quot;Playwright&quot;)</code> - the <code>:has-text()</code> pseudo-class can be used inside a <a href="#css-selector">css</a> selector. It matches any element containing specified text somewhere inside, possibly in a child or a descendant element. For example, <code>article:has-text(&quot;Playwright&quot;)</code> matches <code>&lt;article&gt;&lt;div&gt;Playwright&lt;/div&gt;&lt;/article&gt;</code>.</p><p>Note that <code>:has-text()</code> should be used together with other <code>css</code> specifiers, otherwise it will match all the elements containing specified text, including the <code>&lt;body&gt;</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Wrong, will match many elements including &lt;body&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;:has-text(\&quot;Playwright\&quot;)&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Correct, only matches the &lt;article&gt; element</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;article:has-text(\&quot;Playwright\&quot;)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>#nav-bar :text(&quot;Home&quot;)</code> - the <code>:text()</code> pseudo-class can be used inside a <a href="#css-selector">css</a> selector. It matches the smallest element containing specified text. This example is equivalent to <code>text=Home</code>, but inside the <code>#nav-bar</code> element.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;#nav-bar :text(&#x27;Home&#x27;)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p><code>#nav-bar :text-is(&quot;Home&quot;)</code> - the <code>:text-is()</code> pseudo-class can be used inside a <a href="#css-selector">css</a> selector, for strict text node match. This example is equivalent to <code>text=&quot;Home&quot;</code> (note quotes), but inside the <code>#nav-bar</code> element.</p></li></ul><ul><li><code>#nav-bar :text-matches(&quot;reg?ex&quot;, &quot;i&quot;)</code> - the <code>:text-matches()</code> pseudo-class can be used inside a <a href="#css-selector">css</a> selector, for regex-based match. This example is equivalent to <code>text=/reg?ex/i</code>, but inside the <code>#nav-bar</code> element.</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Matching always normalizes whitespace, for example it turns multiple spaces into one, turns line breaks into spaces and ignores leading and trailing whitespace.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Input elements of the type <code>button</code> and <code>submit</code> are matched by their <code>value</code> instead of text content. For example, <code>text=Log in</code> matches <code>&lt;input type=button value=&quot;Log in&quot;&gt;</code>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="css-selector"></a>CSS selector<a class="hash-link" href="#css-selector" title="Direct link to heading">#</a></h2><p>Playwright augments standard CSS selectors in two ways:</p><ul><li><code>css</code> engine pierces open shadow DOM by default.</li><li>Playwright adds custom pseudo-classes like <code>:visible</code>, <code>:text</code> and more.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;button&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selecting-visible-elements"></a>Selecting visible elements<a class="hash-link" href="#selecting-visible-elements" title="Direct link to heading">#</a></h2><p>The <code>:visible</code> pseudo-class in CSS selectors matches the elements that are <a href="/dotnet/docs/next/actionability#visible">visible</a>. For example, <code>input</code> matches all the inputs on the page, while <code>input:visible</code> matches only visible inputs. This is useful to distinguish elements that are very similar but differ in visibility.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It&#x27;s usually better to follow the <a href="#best-practices">best practices</a> and find a more reliable way to uniquely identify the element.</p></div></div><p>Consider a page with two buttons, first invisible and second visible.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><div tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag style-attr attr-name" style="color:rgb(241, 250, 140)">style</span><span class="token tag style-attr attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag style-attr attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag style-attr attr-value style language-css property" style="color:rgb(255, 121, 198)">display</span><span class="token tag style-attr attr-value style language-css punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token tag style-attr attr-value style language-css" style="color:rgb(255, 121, 198)"> none</span><span class="token tag style-attr attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Invisible</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Visible</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>This will find the first button, because it is the first one in DOM order. Then it will wait for the button to become visible before clicking, or timeout while waiting:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;button&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li><li><p>This will find a second button, because it is visible, and then click it.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;button:visible&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></li></ul><p>Use <code>:visible</code> with caution, because it has two major drawbacks:</p><ul><li>When elements change their visibility dynamically, <code>:visible</code> will give unpredictable results based on the timing.</li><li><code>:visible</code> forces a layout and may lead to querying being slow, especially when used with <code>page.waitForSelector(selector[, options])</code> method.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selecting-elements-that-contain-other-elements"></a>Selecting elements that contain other elements<a class="hash-link" href="#selecting-elements-that-contain-other-elements" title="Direct link to heading">#</a></h2><p>The <code>:has()</code> pseudo-class is an <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:has" target="_blank" rel="noopener noreferrer">experimental CSS pseudo-class</a>. It returns an element if any of the selectors passed as parameters relative to the :scope of the given element match at least one element.</p><p>Following snippet returns text content of an <code>&lt;article&gt;</code> element that has a <code>&lt;div class=promo&gt;</code> inside.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.TextContentAsync(&quot;article:has(div.promo)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selecting-elements-matching-one-of-the-conditions"></a>Selecting elements matching one of the conditions<a class="hash-link" href="#selecting-elements-matching-one-of-the-conditions" title="Direct link to heading">#</a></h2><p>The <code>:is()</code> pseudo-class is an <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:is" target="_blank" rel="noopener noreferrer">experimental CSS pseudo-class</a>. It is a function that takes a selector list as its argument, and selects any element that can be selected by one of the selectors in that list. This is useful for writing large selectors in a more compact form.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Clicks a &lt;button&gt; that has either a &quot;Log in&quot; or &quot;Sign in&quot; text.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;:is(button:has-text(\&quot;Log in\&quot;), button:has-text(\&quot;Sign in\&quot;))&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selecting-elements-in-shadow-dom"></a>Selecting elements in Shadow DOM<a class="hash-link" href="#selecting-elements-in-shadow-dom" title="Direct link to heading">#</a></h2><p>Our <code>css</code> and <code>text</code> engines pierce the <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM" target="_blank" rel="noopener noreferrer">Shadow DOM</a> by default:</p><ul><li>First they search for the elements in the light DOM in the iteration order, and</li><li>Then they search recursively inside open shadow roots in the iteration order.</li></ul><p>In particular, in <code>css</code> engine, any <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Descendant_combinator" target="_blank" rel="noopener noreferrer">Descendant combinator</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Child_combinator" target="_blank" rel="noopener noreferrer">Child combinator</a> pierces an arbitrary number of open shadow roots, including the implicit descendant combinator at the start of the selector. It does not search inside closed shadow roots or iframes.</p><p>If you&#x27;d like to opt-out of this behavior, you can use <code>:light</code> CSS extension or <code>text:light</code> selector engine. They do not pierce shadow roots.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;:light(.article &gt; .header)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>More advanced Shadow DOM use cases:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><div tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">article</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">In the light dom</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">myslot</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">In the light dom, but goes into the shadow slot</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">  #shadow-root</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">in-the-shadow</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">span</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">class</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">content</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        In the shadow dom</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        #shadow-root</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">target</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Deep in the shadow</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">li</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">span</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">slot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">myslot</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">slot</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">article</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Both <code>&quot;article div&quot;</code> and <code>&quot;:light(article div)&quot;</code> match the first <code>&lt;div&gt;In the light dom&lt;/div&gt;</code>.</li><li>Both <code>&quot;article &gt; div&quot;</code> and <code>&quot;:light(article &gt; div)&quot;</code> match two <code>div</code> elements that are direct children of the <code>article</code>.</li><li><code>&quot;article .in-the-shadow&quot;</code> matches the <code>&lt;div class=&#x27;in-the-shadow&#x27;&gt;</code>, piercing the shadow root, while <code>&quot;:light(article .in-the-shadow)&quot;</code> does not match anything.</li><li><code>&quot;:light(article div &gt; span)&quot;</code> does not match anything, because both light-dom <code>div</code> elements do not contain a <code>span</code>.</li><li><code>&quot;article div &gt; span&quot;</code> matches the <code>&lt;span class=&#x27;content&#x27;&gt;</code>, piercing the shadow root.</li><li><code>&quot;article &gt; .in-the-shadow&quot;</code> does not match anything, because <code>&lt;div class=&#x27;in-the-shadow&#x27;&gt;</code> is not a direct child of <code>article</code></li><li><code>&quot;:light(article &gt; .in-the-shadow)&quot;</code> does not match anything.</li><li><code>&quot;article li#target&quot;</code> matches the <code>&lt;li id=&#x27;target&#x27;&gt;Deep in the shadow&lt;/li&gt;</code>, piercing two shadow roots.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="selecting-elements-based-on-layout"></a>Selecting elements based on layout<a class="hash-link" href="#selecting-elements-based-on-layout" title="Direct link to heading">#</a></h2><p>Playwright can select elements based on the page layout. These can be combined with regular CSS for better results, for example <code>input:right-of(:text(&quot;Password&quot;))</code> matches an input field that is to the right of text &quot;Password&quot;.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Layout selectors depend on the page layout and may produce unexpected results. For example, a different element could be matched when layout changes by one pixel.</p></div></div><p>Layout selectors use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" target="_blank" rel="noopener noreferrer">bounding client rect</a> to compute distance and relative position of the elements.</p><ul><li><code>:right-of(inner &gt; selector)</code> - Matches elements that are to the right of any element matching the inner selector.</li><li><code>:left-of(inner &gt; selector)</code> - Matches elements that are to the left of any element matching the inner selector.</li><li><code>:above(inner &gt; selector)</code> - Matches elements that are above any of the elements matching the inner selector.</li><li><code>:below(inner &gt; selector)</code> - Matches elements that are below any of the elements matching the inner selector.</li><li><code>:near(inner &gt; selector)</code> - Matches elements that are near (within 50 CSS pixels) any of the elements matching the inner selector.</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Fill an input to the right of &quot;Username&quot;.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.FillAsync(&quot;input:right-of(:text(\&quot;Username\&quot;))&quot;, &quot;value&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Click a button near the promo card.</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;button:near(.promo-card)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>All layout selectors support optional maximum pixel distance as the last argument. For example <code>button:near(:text(&quot;Username&quot;), 120)</code> matches a button that is at most 120 pixels away from the element with the text &quot;Username&quot;.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="xpath-selectors"></a>XPath selectors<a class="hash-link" href="#xpath-selectors" title="Direct link to heading">#</a></h2><p>XPath selectors are equivalent to calling <a href="https://developer.mozilla.org/en/docs/Web/API/Document/evaluate" target="_blank" rel="noopener noreferrer"><code>Document.evaluate</code></a>. Example: <code>xpath=//html/body</code>.</p><p>Selector starting with <code>//</code> or <code>..</code> is assumed to be an xpath selector. For example, Playwright converts <code>&#x27;//html/body&#x27;</code> to <code>&#x27;xpath=//html/body&#x27;</code>.</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>xpath</code> does not pierce shadow roots</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="id-data-testid-data-test-id-data-test-selectors"></a>id, data-testid, data-test-id, data-test selectors<a class="hash-link" href="#id-data-testid-data-test-id-data-test-selectors" title="Direct link to heading">#</a></h2><p>Playwright supports a shorthand for selecting elements using certain attributes. Currently, only the following attributes are supported:</p><ul><li><code>id</code></li><li><code>data-testid</code></li><li><code>data-test-id</code></li><li><code>data-test</code></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Fill an input with the id &quot;username&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.FillAsync(&quot;id=username&quot;, &quot;value&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Click an element with data-test-id &quot;submit&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;data-test-id=submit&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Attribute selectors are not CSS selectors, so anything CSS-specific like <code>:enabled</code> is not supported. For more features, use a proper <a href="#css-selector">css</a> selector, e.g. <code>css=[data-test=&quot;login&quot;]:enabled</code>.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Attribute selectors pierce shadow DOM. To opt-out from this behavior, use <code>:light</code> suffix after attribute, for example `page.click(&#x27;data-test-id:light=submit&#x27;)</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pick-n-th-match-from-the-query-result"></a>Pick n-th match from the query result<a class="hash-link" href="#pick-n-th-match-from-the-query-result" title="Direct link to heading">#</a></h2><p>Sometimes page contains a number of similar elements, and it is hard to select a particular one. For example:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><div tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">section</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Buy</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">section</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">article</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Buy</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">article</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">Buy</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">div</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>In this case, <code>:nth-match(:text(&quot;Buy&quot;), 3)</code> will select the third button from the snippet above. Note that index is one-based.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Click the third &quot;Buy&quot; button</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;:nth-match(:text(&#x27;Buy&#x27;), 3)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><code>:nth-match()</code> is also useful to wait until a specified number of elements appear, using <a href="/dotnet/docs/next/api/class-page#page-wait-for-selector">Page.WaitForSelectorAsync(selector, options)</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// Wait until all three buttons are visible</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.WaitForSelectorAsync(&quot;:nth-match(:text(&#x27;Buy&#x27;), 3)&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>Unlike <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child" target="_blank" rel="noopener noreferrer"><code>:nth-child()</code></a>, elements do not have to be siblings, they could be anywhere on the page. In the snippet above, all three buttons match <code>:text(&quot;Buy&quot;)</code> selector, and <code>:nth-match()</code> selects the third button.</p></div></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>It is usually possible to distinguish elements by some attribute or text content. In this case, prefer using <a href="#text-selector">text</a> or <a href="#css-selector">css</a> selectors over the <code>:nth-match()</code>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="chaining-selectors"></a>Chaining selectors<a class="hash-link" href="#chaining-selectors" title="Direct link to heading">#</a></h2><p>Selectors defined as <code>engine=body</code> or in short-form can be combined with the <code>&gt;&gt;</code> token, e.g. <code>selector1 &gt;&gt; selector2 &gt;&gt; selectors3</code>. When selectors are chained, next one is queried relative to the previous one&#x27;s result.</p><p>For example,</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">css=article &gt;&gt; css=.bar &gt; .baz &gt;&gt; css=span[attr=value]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>If a selector needs to include <code>&gt;&gt;</code> in the body, it should be escaped inside a string to not be confused with chaining separator, e.g. <code>text=&quot;some &gt;&gt; text&quot;</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="intermediate-matches"></a>Intermediate matches<a class="hash-link" href="#intermediate-matches" title="Direct link to heading">#</a></h3><p>By default, chained selectors resolve to an element queried by the last selector. A selector can be prefixed with <code>*</code> to capture elements that are queried by an intermediate selector.</p><p>For example, <code>css=article &gt;&gt; text=Hello</code> captures the element with the text <code>Hello</code>, and <code>*css=article &gt;&gt; text=Hello</code> (note the <code>*</code>) captures the <code>article</code> element that contains some element with the text <code>Hello</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="best-practices"></a>Best practices<a class="hash-link" href="#best-practices" title="Direct link to heading">#</a></h2><p>The choice of selectors determines the resiliency of automation scripts. To reduce the maintenance burden, we recommend prioritizing user-facing attributes and explicit contracts.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prioritize-user-facing-attributes"></a>Prioritize user-facing attributes<a class="hash-link" href="#prioritize-user-facing-attributes" title="Direct link to heading">#</a></h3><p>Attributes like text content, input placeholder, accessibility roles and labels are user-facing attributes that change rarely. These attributes are not impacted by DOM structure changes.</p><p>The following examples use the built-in <a href="#text-selector">text</a> and <a href="#css-selector">css</a> selector engines.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// queries &quot;Login&quot; text selector</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;text=\&quot;Login\&quot;&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;\&quot;Login\&quot;&quot;); // short-form</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// queries &quot;Search GitHub&quot; placeholder attribute</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.FillAsync(&quot;css=[placeholder=&#x27;Search GitHub&#x27;]&quot;, &quot;query&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.FillAsync(&quot;[placeholder=&#x27;Search GitHub&#x27;]&quot;, &quot;query&quot;); // short-form</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// queries &quot;Close&quot; accessibility label</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;css=[aria-label=&#x27;Close&#x27;]&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;[aria-label=&#x27;Close&#x27;]&quot;); // short-form</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// combine role and text queries</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;css=nav &gt;&gt; text=Login&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="define-explicit-contract"></a>Define explicit contract<a class="hash-link" href="#define-explicit-contract" title="Direct link to heading">#</a></h3><p>When user-facing attributes change frequently, it is recommended to use explicit test ids, like <code>data-test-id</code>. These <code>data-*</code> attributes are supported by the <a href="#css-selector">css</a> and <a href="#id-data-testid-data-test-id-data-test-selectors">id selectors</a>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><div tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">data-test-id</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">directions</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">ItinÃ©raire</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">button</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// queries data-test-id attribute with css</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;css=[data-test-id=directions]&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;[data-test-id=directions]&quot;); // short-form</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">// queries data-test-id with id</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;data-test-id=directions&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="avoid-selectors-tied-to-implementation"></a>Avoid selectors tied to implementation<a class="hash-link" href="#avoid-selectors-tied-to-implementation" title="Direct link to heading">#</a></h3><p><a href="#xpath-selectors">xpath</a> and <a href="#css-selector">css</a> can be tied to the DOM structure or implementation. These selectors can break when the DOM structure changes.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#F8F8F2;background-color:#282A36"><div class="token-line" style="color:#F8F8F2"><span class="token plain">// avoid long css or xpath chains</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;#tsf &gt; div:nth-child(2) &gt; div.A8SBwf &gt; div.RNNXgb &gt; div &gt; div.a4bIc &gt; input&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">await page.ClickAsync(&quot;//*[@id=&#x27;tsf&#x27;]/div[2]/div[1]/div[1]/div/div[2]/input&quot;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/dotnet/docs/next/downloads"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Downloads</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/dotnet/docs/next/emulation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Emulation Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#quick-guide" class="table-of-contents__link">Quick guide</a></li><li><a href="#text-selector" class="table-of-contents__link">Text selector</a></li><li><a href="#css-selector" class="table-of-contents__link">CSS selector</a></li><li><a href="#selecting-visible-elements" class="table-of-contents__link">Selecting visible elements</a></li><li><a href="#selecting-elements-that-contain-other-elements" class="table-of-contents__link">Selecting elements that contain other elements</a></li><li><a href="#selecting-elements-matching-one-of-the-conditions" class="table-of-contents__link">Selecting elements matching one of the conditions</a></li><li><a href="#selecting-elements-in-shadow-dom" class="table-of-contents__link">Selecting elements in Shadow DOM</a></li><li><a href="#selecting-elements-based-on-layout" class="table-of-contents__link">Selecting elements based on layout</a></li><li><a href="#xpath-selectors" class="table-of-contents__link">XPath selectors</a></li><li><a href="#id-data-testid-data-test-id-data-test-selectors" class="table-of-contents__link">id, data-testid, data-test-id, data-test selectors</a></li><li><a href="#pick-n-th-match-from-the-query-result" class="table-of-contents__link">Pick n-th match from the query result</a></li><li><a href="#chaining-selectors" class="table-of-contents__link">Chaining selectors</a><ul><li><a href="#intermediate-matches" class="table-of-contents__link">Intermediate matches</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link">Best practices</a><ul><li><a href="#prioritize-user-facing-attributes" class="table-of-contents__link">Prioritize user-facing attributes</a></li><li><a href="#define-explicit-contract" class="table-of-contents__link">Define explicit contract</a></li><li><a href="#avoid-selectors-tied-to-implementation" class="table-of-contents__link">Avoid selectors tied to implementation</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/dotnet/docs/intro">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/dotnet/docs/api/class-playwright">API reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://aka.ms/playwright-slack" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/microsoft/playwright-dotnet" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Microsoft</div></div></div></footer></div>
<script src="/dotnet/assets/js/runtime~main.55c20805.js"></script>
<script src="/dotnet/assets/js/main.8277eee5.js"></script>
</body>
</html>